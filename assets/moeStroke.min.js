(function () {var H="function"==typeof Object.defineProperties?Object.defineProperty:function(d,f,q){if(d==Array.prototype||d==Object.prototype)return d;d[f]=q.value;return d};function I(d){d=["object"==typeof globalThis&&globalThis,d,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var f=0;f<d.length;++f){var q=d[f];if(q&&q.Math==Math)return q}throw Error("Cannot find global object");}var J=I(this);
function M(d,f){if(f)a:{var q=J;d=d.split(".");for(var t=0;t<d.length-1;t++){var w=d[t];if(!(w in q))break a;q=q[w]}d=d[d.length-1];t=q[d];f=f(t);f!=t&&null!=f&&H(q,d,{configurable:!0,writable:!0,value:f})}}function O(d){var f=0;return function(){return f<d.length?{done:!1,value:d[f++]}:{done:!0}}}function P(d){var f="undefined"!=typeof Symbol&&Symbol.iterator&&d[Symbol.iterator];return f?f.call(d):{next:O(d)}}function Q(){this.m=!1;this.g=null;this.l=void 0;this.b=1;this.J=this.C=0;this.i=null}
function R(d){if(d.m)throw new TypeError("Generator is already running");d.m=!0}Q.prototype.o=function(d){this.l=d};Q.prototype.A=function(d){this.i={P:d,T:!0};this.b=this.C||this.J};Q.prototype.return=function(d){this.i={return:d};this.b=this.J};function S(d,f,q){d.b=q;return{value:f}}function T(d){this.a=new Q;this.U=d}T.prototype.o=function(d){R(this.a);if(this.a.g)return U(this,this.a.g.next,d,this.a.o);this.a.o(d);return V(this)};
function aa(d,f){R(d.a);var q=d.a.g;if(q)return U(d,"return"in q?q["return"]:function(t){return{value:t,done:!0}},f,d.a.return);d.a.return(f);return V(d)}T.prototype.A=function(d){R(this.a);if(this.a.g)return U(this,this.a.g["throw"],d,this.a.o);this.a.A(d);return V(this)};
function U(d,f,q,t){try{var w=f.call(d.a.g,q);if(!(w instanceof Object))throw new TypeError("Iterator result "+w+" is not an object");if(!w.done)return d.a.m=!1,w;var B=w.value}catch(n){return d.a.g=null,d.a.A(n),V(d)}d.a.g=null;t.call(d.a,B);return V(d)}function V(d){for(;d.a.b;)try{var f=d.U(d.a);if(f)return d.a.m=!1,{value:f.value,done:!1}}catch(q){d.a.l=void 0,d.a.A(q)}d.a.m=!1;if(d.a.i){f=d.a.i;d.a.i=null;if(f.T)throw f.P;return{value:f.return,done:!0}}return{value:void 0,done:!0}}
function ba(d){this.next=function(f){return d.o(f)};this.throw=function(f){return d.A(f)};this.return=function(f){return aa(d,f)};this[Symbol.iterator]=function(){return this}}function ca(d){function f(t){return d.next(t)}function q(t){return d.throw(t)}return new Promise(function(t,w){function B(n){n.done?t(n.value):Promise.resolve(n.value).then(f,q).then(B,w)}B(d.next())})}function Z(d){return ca(new ba(new T(d)))}
M("Symbol",function(d){function f(w){if(this instanceof f)throw new TypeError("Symbol is not a constructor");return new q("jscomp_symbol_"+(w||"")+"_"+t++,w)}function q(w,B){this.N=w;H(this,"description",{configurable:!0,writable:!0,value:B})}if(d)return d;q.prototype.toString=function(){return this.N};var t=0;return f});
M("Symbol.iterator",function(d){if(d)return d;d=Symbol("Symbol.iterator");for(var f="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),q=0;q<f.length;q++){var t=J[f[q]];"function"===typeof t&&"function"!=typeof t.prototype[d]&&H(t.prototype,d,{configurable:!0,writable:!0,value:function(){return da(O(this))}})}return d});function da(d){d={next:d};d[Symbol.iterator]=function(){return this};return d}
M("Promise",function(d){function f(n){this.u=0;this.G=void 0;this.j=[];var u=this.D();try{n(u.resolve,u.reject)}catch(y){u.reject(y)}}function q(){this.f=null}function t(n){return n instanceof f?n:new f(function(u){u(n)})}if(d)return d;q.prototype.H=function(n){if(null==this.f){this.f=[];var u=this;this.I(function(){u.R()})}this.f.push(n)};var w=J.setTimeout;q.prototype.I=function(n){w(n,0)};q.prototype.R=function(){for(;this.f&&this.f.length;){var n=this.f;this.f=[];for(var u=0;u<n.length;++u){var y=
n[u];n[u]=null;try{y()}catch(A){this.O(A)}}}this.f=null};q.prototype.O=function(n){this.I(function(){throw n;})};f.prototype.D=function(){function n(A){return function(C){y||(y=!0,A.call(u,C))}}var u=this,y=!1;return{resolve:n(this.W),reject:n(this.F)}};f.prototype.W=function(n){if(n===this)this.F(new TypeError("A Promise cannot resolve to itself"));else if(n instanceof f)this.X(n);else{a:switch(typeof n){case "object":var u=null!=n;break a;case "function":u=!0;break a;default:u=!1}u?this.V(n):this.K(n)}};
f.prototype.V=function(n){var u=void 0;try{u=n.then}catch(y){this.F(y);return}"function"==typeof u?this.Y(u,n):this.K(n)};f.prototype.F=function(n){this.L(2,n)};f.prototype.K=function(n){this.L(1,n)};f.prototype.L=function(n,u){if(0!=this.u)throw Error("Cannot settle("+n+", "+u+"): Promise already settled in state"+this.u);this.u=n;this.G=u;this.S()};f.prototype.S=function(){if(null!=this.j){for(var n=0;n<this.j.length;++n)B.H(this.j[n]);this.j=null}};var B=new q;f.prototype.X=function(n){var u=this.D();
n.B(u.resolve,u.reject)};f.prototype.Y=function(n,u){var y=this.D();try{n.call(u,y.resolve,y.reject)}catch(A){y.reject(A)}};f.prototype.then=function(n,u){function y(E,F){return"function"==typeof E?function(N){try{A(E(N))}catch(K){C(K)}}:F}var A,C,L=new f(function(E,F){A=E;C=F});this.B(y(n,A),y(u,C));return L};f.prototype.catch=function(n){return this.then(void 0,n)};f.prototype.B=function(n,u){function y(){switch(A.u){case 1:n(A.G);break;case 2:u(A.G);break;default:throw Error("Unexpected state: "+
A.u);}}var A=this;null==this.j?B.H(y):this.j.push(y)};f.resolve=t;f.reject=function(n){return new f(function(u,y){y(n)})};f.race=function(n){return new f(function(u,y){for(var A=P(n),C=A.next();!C.done;C=A.next())t(C.value).B(u,y)})};f.all=function(n){var u=P(n),y=u.next();return y.done?t([]):new f(function(A,C){function L(N){return function(K){E[N]=K;F--;0==F&&A(E)}}var E=[],F=0;do E.push(void 0),F++,t(y.value).B(L(E.length-1),C),y=u.next();while(!y.done)})};return f});
function ea(d,f){d instanceof String&&(d+="");var q=0,t={next:function(){if(q<d.length){var w=q++;return{value:f(w,d[w]),done:!1}}t.next=function(){return{done:!0,value:void 0}};return t.next()}};t[Symbol.iterator]=function(){return t};return t}M("Array.prototype.keys",function(d){return d?d:function(){return ea(this,function(f){return f})}});
M("String.prototype.codePointAt",function(d){return d?d:function(f){if(null==this)throw new TypeError("The 'this' value for String.prototype.codePointAt must not be null or undefined");var q=this+"";var t=q.length;f=Number(f)||0;if(0<=f&&f<t){f|=0;var w=q.charCodeAt(f);if(55296>w||56319<w||f+1===t)return w;f=q.charCodeAt(f+1);return 56320>f||57343<f?w:1024*(w-55296)+f+9216}}});
M("Array.from",function(d){return d?d:function(f,q,t){q=null!=q?q:function(u){return u};var w=[],B="undefined"!=typeof Symbol&&Symbol.iterator&&f[Symbol.iterator];if("function"==typeof B){f=B.call(f);for(var n=0;!(B=f.next()).done;)w.push(q.call(t,B.value,n++))}else for(B=f.length,n=0;n<B;n++)w.push(q.call(t,f[n],n));return w}});
(function(d){function f(a,h){var b=document.createElement("script");b.setAttribute("type","text/javascript");b.setAttribute("charset","utf-8");b.setAttribute("src",a);b.onload=b.onreadystatechange=function(){b.readyState&&"loaded"!==b.readyState&&"complete"!==b.readyState||(b.onload=b.onreadystatechange=null,document.getElementsByTagName("head")[0].removeChild(b),h())};b.onerror=function(){b.onerror=null;document.getElementsByTagName("head")[0].removeChild(b);"function"==typeof h&&h()};a=document.getElementsByTagName("head")[0];
a.insertBefore(b,a.firstChild)}function q(a,h){var b=[];if("number"!=typeof h||0>h)h=0;if("string"==typeof a&&""!=a.replace(/\s/g,"")){a=a.split("~");if("undefined"!=typeof a&&null!=a){var c=0;do""==a[c]?a.splice(c,1):c++;while(c<a.length)}if(h<a.length&&(a=a[h],a=a.replace(/[^0-9\-,;]/g,""),""!=a))for(h=a.split(";"),a=0;a<h.length;a++){c=h[a].split(",");for(var g=0;g<c.length;g++)if(0<c[g].length){"undefined"==typeof b[a]&&(b[a]=[]);var l=c[g].match(/(\d+)-(\d+)/);if(null!=l&&3<=l.length){var p=
parseInt(l[1],10);l=parseInt(l[2],10);if(p>l){var e=l;l=p;p=e}for(;p<=l;p++)b[a].push(p)}else p=parseInt(c[g],10),isNaN(p)||b[a].push(p)}}}return b}function t(a){return"string"==typeof a&&""!=a.replace(/\s/g,"")&&a.match(/<Stroke>/i)&&a.match(/<Outline>/i)}function w(a){a=B(a);return"string"==typeof a&&t(a)}function B(a){return window.localStorage.getItem(""+a)}function n(a,h){"string"!=typeof h&&(h=y(h));u(function(){try{window.localStorage.setItem(""+a,h)}catch(b){console.log("save to localStorage failure: "+
b)}})}function u(a){function h(c){c=window.localStorage.getItem(c)||"";return Number((c.match(/timestamp="(\d+)"/)||[]).pop()||0)}var b=Object.keys(window.localStorage).filter(function(c){return 1==c.length&&w(c)}).sort(function(c,g){return h(c)-h(g)});if(b&&128<=b.length)try{window.localStorage.removeItem(b[0])}catch(c){}"function"==typeof a&&a()}function y(a){return window.ActiveXObject?a.xml:(new XMLSerializer).serializeToString(a)}function A(a){if(window.ActiveXObject){var h=new ActiveXObject("Microsoft.XMLDOM");
h.async="false";h.loadXML(a)}else h=(new DOMParser).parseFromString(a,"text/xml");return h}function C(a,h){for(var b=[],c=[],g=0,l=a.getElementsByTagName("Stroke"),p=0;p<l.length;p++)if(1==l[p].nodeType){b[g]=[];c[g]=[];for(var e=l[p].childNodes,m=0,k=0,r=0;r<e.length;r++)if(1==e[r].nodeType)if("Outline"==e[r].nodeName)for(var x=e[r].childNodes,v=0;v<x.length;v++)1==x[v].nodeType&&(b[g][m]=x[v],m++);else if("Track"==e[r].nodeName)for(c[g][k]=[],x=e[r].childNodes,v=0;v<x.length;v++)1==x[v].nodeType&&
(c[g][k]=x[v],k++);g++}g=a.getElementsByTagName("Word")[0].getAttribute("unicode");"string"==typeof g&&b&&c&&("\u61c2"==g&&32==b.length&&32==c.length?(b.splice(16),c.splice(16),console.log("\u522a\u9664-\u61c2-16\u756b\u5f8c\u591a\u51fa\u768416\u7b46\u8cc7\u6599")):"\u8d10"==g?(l=b[11].splice(0),b[11]=b[12].splice(0),b[12]=l,l=c[11].splice(0),c[11]=c[12].splice(0),c[12]=l,console.log("\u4ea4\u63db-\u8d10-\u768412, 13 \u756b")):"\u69bb"==g&&15==b.length&&15==c.length?(b.splice(14,1),c.splice(14,1),
console.log("\u522a\u9664-\u69bb-\u591a\u51fa\u7684\u7b2c15\u7b46\u8cc7\u6599")):"\u779e"==g&&17==b.length&&17==c.length?(b.splice(16,1),c.splice(16,1),console.log("\u522a\u9664-\u779e-\u591a\u51fa\u7684\u7b2c17\u7b46\u8cc7\u6599")):"\u6170"==g&&18==b.length&&18==c.length?(b.splice(15),c.splice(15),console.log("\u522a\u9664-\u6170-15\u756b\u5f8c\u591a\u51fa\u76843\u7b46\u8cc7\u6599")):"\u5bd3"==g&&13==b.length&&13==c.length?(b.splice(6,1),c.splice(6,1),console.log("\u522a\u9664-\u5bd3-\u591a\u51fa\u7684\u7b2c7\u7b46\u8cc7\u6599")):
"\u88fd"==g&&15==b.length&&15==c.length?(b.splice(14,1),c.splice(14,1),console.log("\u522a\u9664-\u88fd-\u591a\u51fa\u7684\u7b2c15\u7b46\u8cc7\u6599")):"\u53eb"==g&&c[4]&&3==c[4].length?(l=c[4][1],c[4][1]=c[4][2],c[4][2]=l,console.log("\u4ea4\u63db-\u53eb-5\u756b\u7684\u6b65\u9a5f2, 3")):"\u554a"==g&&c[8]&&5==c[8].length&&(l=c[8][3],c[8][3]=c[8][4],c[8][4]=l,console.log("\u4ea4\u63db-\u554a-9\u756b\u7684\u6b65\u9a5f4, 5")));l={};l.$=g||h;l.M=b;l.h=c;l.Z=a.getElementsByTagName("Word")[0].getAttribute("sound")||
"";l.s=a.getElementsByTagName("Word")[0].getAttribute("parts")||"";return l}function L(a,h,b,c){var g="";if("undefined"==typeof a||null==a)return g;"number"!=typeof b&&(b=0);"number"!=typeof c&&(c=0);"number"==typeof h&&(h=[h]);for(var l=0;l<h.length;l++){for(var p=a[h[l]-1],e=0;e<p.length;e++){var m=p[e];switch(m.nodeName){case "MoveTo":var k=Number(m.getAttribute("x"))+b;var r=Number(m.getAttribute("y"))+c;g+=" M"+k+" "+r;break;case "LineTo":k=Number(m.getAttribute("x"))+b;r=Number(m.getAttribute("y"))+
c;g+=" L"+k+" "+r;break;case "QuadTo":k=Number(m.getAttribute("x1"))+b;r=Number(m.getAttribute("y1"))+c;var x=Number(m.getAttribute("x2"))+b;var v=Number(m.getAttribute("y2"))+c;g+=" Q"+k+" "+r+" "+x+" "+v;break;case "CubicTo":k=Number(m.getAttribute("x1"))+b;r=Number(m.getAttribute("y1"))+c;x=Number(m.getAttribute("x2"))+b;v=Number(m.getAttribute("y2"))+c;var z=Number(m.getAttribute("x3"))+b;m=Number(m.getAttribute("y3"))+c;g+=" C"+k+" "+r+" "+x+" "+v+" "+z+" "+m}}g+=" Z"}return g=g.trim()}function E(a,
h,b,c,g,l,p){var e="";if("number"!=typeof b||2<b)b=0;c="boolean"==typeof c&&c;g="boolean"==typeof g&&g;l="boolean"==typeof l&&l;p="boolean"==typeof p&&p;if(h||w(a)){h||(h=B(a),h=C(A(h),a));e=h.h.length;if("string"!=typeof h.s||""==h.s.trim())h.s="1-"+e;b=q(h.s,b);var m=0;if("undefined"!=typeof b&&null!=b&&0<b.length){var k=0;do{var r=0;do 0<b[k][r]&&b[k][r]<=e?(m++,r++):b[k].splice(r,1);while(0<b[k].length&&r<b[k].length);0<b[k].length?k++:b.splice(k,1)}while(0<b.length&&k<b.length)}if(1>m||m>e)b=
q("1-"+e);else if(m<e){m={};for(k=0;k<e;k++)m[k+1]=k+1;for(k in b)for(r in b[k])delete m[b[k][r]];0<Object.values(m).length&&b.push(Object.values(m))}e='<svg id="'+a+'" viewBox="0 0 2048 2048" xmlns="http://www.w3.org/2000/svg">\n';for(k=0;k<b.length;k++){e+='<g fill="'+W[k%W.length]+'" fill-opacity="1" stroke="#000000" stroke-width="0" stroke-linejoin="round" stroke-opacity="0">';if(c)m=L(h.M,b[k],0,0),e+='<path d="'+m+'" />';else for(e+="\n",r=0;r<b[k].length;r++){var x=b[k][r];m=L(h.M,x,0,0);e+=
'<path id="t'+x+'" d="'+m+'" />\n'}e+="</g>\n"}if(g){c=e;k=h;r=g=void 0;"number"!=typeof g&&(g=0);"number"!=typeof r&&(r=0);b="";if(k||w(a))for(k||(k=B(a),k=C(A(k),a)),e=k.h.length,m=0;m<e;m++){var v=k.h[m][0];x=Number(v.getAttribute("x"))+g;v=Number(v.getAttribute("y"))+r;b+='<text class="number" style="font-size:100px;font-style:bold;" x="'+x+'" y="'+v+'">'+(m+1)+"</text>\n"}e=c+b}if(l){l=e;b=h;g=c=void 0;"number"!=typeof c&&(c=0);"number"!=typeof g&&(g=0);r="";if(b||w(a)){if(!b){var z=B(a);b=C(A(z),
a)}z=b.h.length;for(a=0;a<z;a++)for(k=0;k<b.h[a].length;k++)m=b.h[a][k],"MoveTo"==m.nodeName&&(e=Number(m.getAttribute("x"))+c,m=Number(m.getAttribute("y"))+g,r+=(0==k?" M":" L")+e+" "+m)}r=r.trim();if(""!=r)var D='<circle cx="0" cy="0" r="120" style="fill:#ff0000a0;"><animateMotion begin="0s" dur="'+((15>z?10>z?"5s":"8s":"10s")+'" path="'+r+'"  repeatCount="indefinite" /></circle>');e=l+("\n"+D+"\n")}if(p){p=e;var G;D=[];if(l=h.h)for(c=0;c<l.length;c++){z=[];for(g=0;g<l[c].length;g++)a=[],a.push(parseFloat(l[c][g].getAttribute("x"))),
a.push(parseFloat(l[c][g].getAttribute("y"))),(G=l[c][g].getAttribute("size"))&&a.push(parseFloat(G)),z.push(a.join(","));D.push(z.join(" "))}G=JSON.stringify({unicode:h.$,tracks:D,parts:h.s,sound:h.Z});e=p+("<desc>"+G+"</desc>\n")}e+="</svg>\n"}return e}function F(a,h){var b,c,g,l;return Z(function(p){b=null;c=0;"string"!=typeof a||""==a.replace(/\s/g,"")||"string"!=typeof h||""==h.replace(/\s/g,"")?c=31:(a=a.trim(),h=h.trim(),1<a.length&&(a=a.substring(0,1)),g=a.codePointAt(0).toString(16).toUpperCase(),
l="SELECT * WHERE B='"+g+"' LIMIT 1",fa(h,null,l,!0,!0,function(e){var m="";if("undefined"!=typeof e&&null!=e&&"string"==typeof e.status&&"ok"==e.status){var k=e.table;if("undefined"!=typeof k.rows&&null!=k.rows&&0<k.rows.length)for(e=e.table.rows,k=0;k<e.length;k++)null!=e[k].c[2]&&"string"==typeof e[k].c[2].v&&(m+=e[k].c[2].v,null!=e[k].c[3]&&"string"==typeof e[k].c[3].v&&(m+=e[k].c[3].v))}b=m}));return p.return(new Promise(function(e){var m=setInterval(function(){if("string"==typeof b||30<c)return clearInterval(m),
30<c&&(b=""),e(b);c++},100)}))})}function N(a,h){var b,c,g,l;return Z(function(p){switch(p.b){case 1:return c=b="",g="https://g0v.github.io/zh-stroke-data/utf8/",S(p,F(a,X),2);case 2:b=p.l;if(t(b)){p.b=3;break}console.log("fetch data from GitHub ...");c=g+a.codePointAt(0).toString(16)+".xml";p.C=4;return S(p,fetch(c),6);case 6:return l=p.l,S(p,l.text(),7);case 7:b=p.l;p.b=3;p.C=0;break;case 4:p.C=0,p.i=null,b="";case 3:return t(b)||(b=""),"function"==typeof h&&h(b),p.return(b)}})}function K(a,h,b){var c,
g,l,p,e,m,k,r,x,v;return Z(function(z){if(1==z.b){"string"!=typeof a&&(a="\u96c4");l=g=c=null;m=e=p="";k=!1;r=!0;if("string"==typeof b){k=!0;p=b;z.b=2;return}if(w(a)){k=!0;p=B(a);z.b=2;return}return S(z,N(a),4)}2!=z.b&&(p=z.l);if(t(p)){c=A(p);var D,G,ha=new RegExp("^"+a+"\t[^\t]+\t[^\n]+","m");window.stroke_parts_data&&(D=ha.exec(window.stroke_parts_data))&&(G=D[0].split(/\t/));if((x=G)&&3<x.length)e=x[2],m=x[3],e="/sound/"+(/\.m4a/.test(e)?e:e+".mp3");else{var Y;e=0<(Y="\u3000\u3105\u3106\u3107\u3108\u3109\u310a\u310b\u310c\u310d\u310e\u310f\u3110\u3111\u3112\u3113\u3114\u3115\u3116\u3117\u3118\u3119\u311a\u311b\u311c\u311d\u311e\u311f\u3120\u3121\u3122\u3123\u3124\u3125\u3126\u3127\u3128\u3129".indexOf(a))?
"/bopomo_sound/f/f"+Y+".mp3":""}l=c.getElementsByTagName("Word")[0].getAttribute("parts");k&&"string"==typeof l&&""!=l.trim()&&(r=!1);c.getElementsByTagName("Word")[0].setAttribute("sound",e);c.getElementsByTagName("Word")[0].setAttribute("parts",m);r&&(v=(new Date).getTime(),c.getElementsByTagName("Word")[0].setAttribute("timestamp",v),n(a,c));g=C(c,a)}if("function"==typeof h)h(g,k);else return z.return(g);z.b=0})}function ia(a,h){f(a,function(){"undefined"!=typeof window.stroke_parts_data&&null!=
window.stroke_parts_data&&(window.stroke_parts_data=window.stroke_parts_data.trim().replace(/\r/g,"\n").replace(/\n+/g,"\n"));"function"==typeof h&&h()})}function ja(a,h,b,c){var g="";!/^https:\/\//.test(a)&&20<a.length?g=a:/\/d\/([^\/]{20}[^\/]+)\//.test(a)&&(g=window.RegExp.lastParen);var l=a.match(/[#&\?]gid=(\d+)/);l=l&&1<l.length?l[1]:"-1";a="";""!=g&&(a="https://docs.google.com/spreadsheets/d/"+g+"/gviz/tq?tqx=out:json","string"==typeof h&&""!=h.replace(/\s/g,"")?a+="&sheet="+encodeURIComponent(h):
"-1"!=l&&(a+="&gid="+l),"string"==typeof b&&""!=b.replace(/\s/g,"")&&(b=encodeURIComponent(b),a+="&tq="+b),"number"==typeof c&&(a+="&headers="+c));return a}function ka(a,h){var b=document.createElement("script");"undefined"==typeof window.google&&(window.google={});"undefined"==typeof window.google.visualization&&(window.google.visualization={});"undefined"==typeof window.google.visualization.Query&&(window.google.visualization.Query={});window.google.visualization.Query.setResponse=h;b.setAttribute("type",
"text/javascript");b.setAttribute("charset","utf-8");b.setAttribute("src",a);b.onload=b.onreadystatechange=function(){b.readyState&&"loaded"!==b.readyState&&"complete"!==b.readyState||(b.onload=b.onreadystatechange=null,document.getElementsByTagName("head")[0].removeChild(b))};b.onerror=function(){b.onerror=null;document.getElementsByTagName("head")[0].removeChild(b);if("function"==typeof h)h();else{var c="\u7121\u6cd5\u8f09\u5165\u8a2d\u5b9a.",g=document.querySelector(".resultBlock");"undefined"!=
typeof g&&null!=g&&(c+="\n\n\u8acb\u78ba\u8a8d\u4e00\u4e0b:\n\n* \u8a66\u7b97\u8868\u5171\u7528\u9023\u7d50\u7684\u7db2\u5740\u662f\u5426\u6b63\u78ba, \n\n* \u662f\u5426\u958b\u653e\u4efb\u4f55\u4eba\u90fd\u53ef\u4ee5\u6aa2\u8996.",g.style.display="none");setTimeout(function(){console.log(c)},100)}};a=document.getElementsByTagName("head")[0];a.insertBefore(b,a.firstChild)}function fa(a,h,b,c,g,l){"string"!=typeof a?a="":/^https:\/\//i.test(a)||(a="https://docs.google.com/spreadsheets/d/"+a+"/edit?usp=sharing");
"boolean"!=typeof g&&(g=!0);if(/^https:\/\//i.test(a)&&/spreadsheets/.test(a)){var p="";h=null;"boolean"==typeof c&&c&&(h=0);a=ja(a,null,b,h);ka(a,function(e){if("boolean"==typeof c&&c)"function"==typeof l?l(e):console.log(e);else{if("undefined"!=typeof e&&null!=e&&"string"==typeof e.status&&"ok"==e.status&&"undefined"!=typeof e.table.rows&&null!=e.table.rows&&0<e.table.rows.length){p="";var m=-1,k=0,r=e.table.cols;if(0==e.table.parsedNumHeaders)for(var x=e.table.rows[0].c,v=0;v<x.length;v++){var z=
e.table.rows[0].c[v].v;if("string"==typeof z&&"\u6210\u8a9e"==z.trim()){m=v;k=1;break}}else for(v=0;v<r.length;v++)if("\u6210\u8a9e"==r[v].label.trim()){m=v;break}0>m&&(m=0,0<e.table.parsedNumHeaders&&(z=e.table.cols[m].label,"string"==typeof z&&""!=z.replace(/\s/g,"")&&(p+=z.trim())));console.log("get @"+m,"from "+k,r);if(0<=m)for(v=k;v<e.table.rows.length;v++)k=e.table.rows[v].c[m],"undefined"!=typeof k&&null!=k?"string"==typeof k.v&&""!=k.v.replace(/\s/g,"")?p+=k.v.trim()+"\n":g||(p+="\n"):g||
(p+="\n")}""!=p?"function"==typeof l?l(p):console.log(p):("undefined"!=typeof e&&null!=e&&"undefined"!=typeof e.table&&console.log(e.table),console.log("\u7121\u6cd5\u8f09\u5165\u8cc7\u6599, \u8acb\u78ba\u8a8d\u8a66\u7b97\u8868\u4e2d\u7684\u5167\u5bb9\u5f8c\u518d\u8a66"))}})}else console.log("\u7121\u6cd5\u8f09\u5165\u8cc7\u6599, \u7db2\u5740\u4e0d\u662f\u8a66\u7b97\u8868\u7684\uff0c\u8acb\u78ba\u8a8d\u5f8c\u518d\u8a66")}function la(a,h,b,c,g){return Z(function(l){return S(l,K(a,function(p,e){var m;
return Z(function(k){m=E(a,p,h,b,!1,!1,c);"function"==typeof g&&g(a,m,e);return k.return(m)})}),0)})}var X="",W="#ff6699 #56B4E9 #009E73 #F0E442 #ff9933 #FFBAA3 #9169EC #7B92BE".split(" ");"undefined"!=typeof window.stroke_parts_data&&null!=window.stroke_parts_data||ia("https://gsyan888.github.io/html5_fun/html5_stroke_parts/stroke_parts_data.js",function(){"string"==typeof window.stroke_parts_data&&""!=window.stroke_parts_data?console.log("stroke_parts_data loaded ..."):console.log("stroke_parts_data load failure ...")});
X=function(a){var h=Math.floor((new Date).getTime()/1E3%a.length);console.log("stroke data from: happy"+(2009+2*h)+" ...");return"https://docs.google.com/spreadsheets/d/"+a[h]+"/edit?usp=drive_link"}(["1cRQDIHe0isKNtKCvvXtP-I52d-1zCV1owDCo2cm164k","1m3BmNOTOIPP1j89TYX8h7Gy4p4bfmCG-YSPMGGefgks","1nY3sRsX21JiHnyg4UP0VhSxw2yN-m2KkKHAgoGJvvFk"]);d.xmlToSVG=function(a,h,b){var c,g,l;return Z(function(p){return 1==p.b?(c=null,g=0,l=5,S(p,K(a,function(e){var m;return Z(function(k){m=E(a,e,0,!1,!1,!1,!0);
"function"==typeof b&&b(m);c=m;return k.return(m)})},h),2)):p.return(new Promise(function(e){var m=setInterval(function(){if("string"==typeof c||g>l)return clearInterval(m),g>l&&(c=""),e(c);g++},100)}))})};d.toSVG=function(a,h,b,c,g,l,p,e){var m={},k=[];"number"!=typeof h&&(h=0);b="boolean"==typeof b&&b;c="boolean"==typeof c&&c;g="boolean"==typeof g&&g;"string"==typeof a&&(a=Array.from(a.trim()));if(0<a.length){var r=function(x){if(0<x.length){var v=x.splice(0,1)[0];"function"==typeof l&&l(v);"undefined"==
typeof m[v]?(console.log("fetch "+v+"..."),la(v,h,b,c,function(z,D,G){""!=D&&(g?(D=new File([D],"\u7b46\u9806-"+z+".svg",{type:"image/svg+xml"}),k.push(D)):k.push(D),m[z]=k.length-1);0<x.length?setTimeout(function(){r(x)},G?250:Math.floor(1E3*(e||1))):r(x)})):(k.push(k[m[v]]),r(x))}else"function"==typeof l&&l(100,!0),"function"==typeof p&&p(k)};r(a)}};d.getTrack=function(a,h){var b=[],c=[];if((a=a.querySelector("desc"))&&/tracks/.test(a.innerHTML)&&""!=a.innerHTML.replace(/\s/g,""))try{c=JSON.parse(a.innerHTML).tracks}catch(k){c=
[]}for(var g=0;g<c.length;g++){var l=[];a=c[g].trim().split(/\s+/);for(var p=0;p<a.length;p++){var e=a[p].trim().split(",");if(1<e.length){var m={x:parseFloat(e[0]),y:parseFloat(e[1])};isNaN(e[2])||(m.size=parseFloat(e[2]));l.push(m)}}0<l.length&&b.push(l)}"function"==typeof h&&h(b);return b};d.getSoundUrl=function(a){return/bopomo/.test(a)?"https://gsyan888.github.io/html5_fun/html5_stroke_parts"+a:"https://stroke-order.learningweb.moe.edu.tw"+a}})("undefined"!==typeof exports?exports:window.moeStroke=
window.moeStroke||{});})();
