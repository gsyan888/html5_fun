(function () {var H="function"==typeof Object.defineProperties?Object.defineProperty:function(d,e,r){if(d==Array.prototype||d==Object.prototype)return d;d[e]=r.value;return d};function aa(d){d=["object"==typeof globalThis&&globalThis,d,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var e=0;e<d.length;++e){var r=d[e];if(r&&r.Math==Math)return r}throw Error("Cannot find global object");}var I=aa(this);
function J(d,e){if(e)a:{var r=I;d=d.split(".");for(var t=0;t<d.length-1;t++){var w=d[t];if(!(w in r))break a;r=r[w]}d=d[d.length-1];t=r[d];e=e(t);e!=t&&null!=e&&H(r,d,{configurable:!0,writable:!0,value:e})}}function M(d){var e=0;return function(){return e<d.length?{done:!1,value:d[e++]}:{done:!0}}}function O(d){var e="undefined"!=typeof Symbol&&Symbol.iterator&&d[Symbol.iterator];return e?e.call(d):{next:M(d)}}function P(){this.m=!1;this.g=null;this.l=void 0;this.b=1;this.J=this.C=0;this.i=null}
function Q(d){if(d.m)throw new TypeError("Generator is already running");d.m=!0}P.prototype.o=function(d){this.l=d};P.prototype.A=function(d){this.i={P:d,T:!0};this.b=this.C||this.J};P.prototype.return=function(d){this.i={return:d};this.b=this.J};function R(d,e,r){d.b=r;return{value:e}}function S(d){this.a=new P;this.U=d}S.prototype.o=function(d){Q(this.a);if(this.a.g)return T(this,this.a.g.next,d,this.a.o);this.a.o(d);return U(this)};
function ba(d,e){Q(d.a);var r=d.a.g;if(r)return T(d,"return"in r?r["return"]:function(t){return{value:t,done:!0}},e,d.a.return);d.a.return(e);return U(d)}S.prototype.A=function(d){Q(this.a);if(this.a.g)return T(this,this.a.g["throw"],d,this.a.o);this.a.A(d);return U(this)};
function T(d,e,r,t){try{var w=e.call(d.a.g,r);if(!(w instanceof Object))throw new TypeError("Iterator result "+w+" is not an object");if(!w.done)return d.a.m=!1,w;var B=w.value}catch(n){return d.a.g=null,d.a.A(n),U(d)}d.a.g=null;t.call(d.a,B);return U(d)}function U(d){for(;d.a.b;)try{var e=d.U(d.a);if(e)return d.a.m=!1,{value:e.value,done:!1}}catch(r){d.a.l=void 0,d.a.A(r)}d.a.m=!1;if(d.a.i){e=d.a.i;d.a.i=null;if(e.T)throw e.P;return{value:e.return,done:!0}}return{value:void 0,done:!0}}
function ca(d){this.next=function(e){return d.o(e)};this.throw=function(e){return d.A(e)};this.return=function(e){return ba(d,e)};this[Symbol.iterator]=function(){return this}}function da(d){function e(t){return d.next(t)}function r(t){return d.throw(t)}return new Promise(function(t,w){function B(n){n.done?t(n.value):Promise.resolve(n.value).then(e,r).then(B,w)}B(d.next())})}function V(d){return da(new ca(new S(d)))}
J("Symbol",function(d){function e(w){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new r("jscomp_symbol_"+(w||"")+"_"+t++,w)}function r(w,B){this.N=w;H(this,"description",{configurable:!0,writable:!0,value:B})}if(d)return d;r.prototype.toString=function(){return this.N};var t=0;return e});
J("Symbol.iterator",function(d){if(d)return d;d=Symbol("Symbol.iterator");for(var e="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),r=0;r<e.length;r++){var t=I[e[r]];"function"===typeof t&&"function"!=typeof t.prototype[d]&&H(t.prototype,d,{configurable:!0,writable:!0,value:function(){return ea(M(this))}})}return d});function ea(d){d={next:d};d[Symbol.iterator]=function(){return this};return d}
J("Promise",function(d){function e(n){this.u=0;this.G=void 0;this.j=[];var u=this.D();try{n(u.resolve,u.reject)}catch(x){u.reject(x)}}function r(){this.f=null}function t(n){return n instanceof e?n:new e(function(u){u(n)})}if(d)return d;r.prototype.H=function(n){if(null==this.f){this.f=[];var u=this;this.I(function(){u.R()})}this.f.push(n)};var w=I.setTimeout;r.prototype.I=function(n){w(n,0)};r.prototype.R=function(){for(;this.f&&this.f.length;){var n=this.f;this.f=[];for(var u=0;u<n.length;++u){var x=
n[u];n[u]=null;try{x()}catch(z){this.O(z)}}}this.f=null};r.prototype.O=function(n){this.I(function(){throw n;})};e.prototype.D=function(){function n(z){return function(D){x||(x=!0,z.call(u,D))}}var u=this,x=!1;return{resolve:n(this.W),reject:n(this.F)}};e.prototype.W=function(n){if(n===this)this.F(new TypeError("A Promise cannot resolve to itself"));else if(n instanceof e)this.X(n);else{a:switch(typeof n){case "object":var u=null!=n;break a;case "function":u=!0;break a;default:u=!1}u?this.V(n):this.K(n)}};
e.prototype.V=function(n){var u=void 0;try{u=n.then}catch(x){this.F(x);return}"function"==typeof u?this.Y(u,n):this.K(n)};e.prototype.F=function(n){this.L(2,n)};e.prototype.K=function(n){this.L(1,n)};e.prototype.L=function(n,u){if(0!=this.u)throw Error("Cannot settle("+n+", "+u+"): Promise already settled in state"+this.u);this.u=n;this.G=u;this.S()};e.prototype.S=function(){if(null!=this.j){for(var n=0;n<this.j.length;++n)B.H(this.j[n]);this.j=null}};var B=new r;e.prototype.X=function(n){var u=this.D();
n.B(u.resolve,u.reject)};e.prototype.Y=function(n,u){var x=this.D();try{n.call(u,x.resolve,x.reject)}catch(z){x.reject(z)}};e.prototype.then=function(n,u){function x(E,F){return"function"==typeof E?function(N){try{z(E(N))}catch(K){D(K)}}:F}var z,D,L=new e(function(E,F){z=E;D=F});this.B(x(n,z),x(u,D));return L};e.prototype.catch=function(n){return this.then(void 0,n)};e.prototype.B=function(n,u){function x(){switch(z.u){case 1:n(z.G);break;case 2:u(z.G);break;default:throw Error("Unexpected state: "+
z.u);}}var z=this;null==this.j?B.H(x):this.j.push(x)};e.resolve=t;e.reject=function(n){return new e(function(u,x){x(n)})};e.race=function(n){return new e(function(u,x){for(var z=O(n),D=z.next();!D.done;D=z.next())t(D.value).B(u,x)})};e.all=function(n){var u=O(n),x=u.next();return x.done?t([]):new e(function(z,D){function L(N){return function(K){E[N]=K;F--;0==F&&z(E)}}var E=[],F=0;do E.push(void 0),F++,t(x.value).B(L(E.length-1),D),x=u.next();while(!x.done)})};return e});
function fa(d,e){d instanceof String&&(d+="");var r=0,t={next:function(){if(r<d.length){var w=r++;return{value:e(w,d[w]),done:!1}}t.next=function(){return{done:!0,value:void 0}};return t.next()}};t[Symbol.iterator]=function(){return t};return t}J("Array.prototype.keys",function(d){return d?d:function(){return fa(this,function(e){return e})}});
J("String.prototype.codePointAt",function(d){return d?d:function(e){if(null==this)throw new TypeError("The 'this' value for String.prototype.codePointAt must not be null or undefined");var r=this+"";var t=r.length;e=Number(e)||0;if(0<=e&&e<t){e|=0;var w=r.charCodeAt(e);if(55296>w||56319<w||e+1===t)return w;e=r.charCodeAt(e+1);return 56320>e||57343<e?w:1024*(w-55296)+e+9216}}});
J("Array.from",function(d){return d?d:function(e,r,t){r=null!=r?r:function(u){return u};var w=[],B="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];if("function"==typeof B){e=B.call(e);for(var n=0;!(B=e.next()).done;)w.push(r.call(t,B.value,n++))}else for(B=e.length,n=0;n<B;n++)w.push(r.call(t,e[n],n));return w}});
(function(d){function e(a,h){var b=document.createElement("script");b.setAttribute("type","text/javascript");b.setAttribute("charset","utf-8");b.setAttribute("src",a);b.onload=b.onreadystatechange=function(){b.readyState&&"loaded"!==b.readyState&&"complete"!==b.readyState||(b.onload=b.onreadystatechange=null,document.getElementsByTagName("head")[0].removeChild(b),h())};b.onerror=function(){b.onerror=null;document.getElementsByTagName("head")[0].removeChild(b);"function"==typeof h&&h()};a=document.getElementsByTagName("head")[0];
a.insertBefore(b,a.firstChild)}function r(a,h){var b=[];if("number"!=typeof h||0>h)h=0;if("string"==typeof a&&""!=a.replace(/\s/g,"")){a=a.split("~");if("undefined"!=typeof a&&null!=a){var c=0;do""==a[c]?a.splice(c,1):c++;while(c<a.length)}if(h<a.length&&(a=a[h],a=a.replace(/[^0-9\-,;]/g,""),""!=a))for(h=a.split(";"),a=0;a<h.length;a++){c=h[a].split(",");for(var f=0;f<c.length;f++)if(0<c[f].length){"undefined"==typeof b[a]&&(b[a]=[]);var m=c[f].match(/(\d+)-(\d+)/);if(null!=m&&3<=m.length){var p=
parseInt(m[1],10);m=parseInt(m[2],10);if(p>m){var g=m;m=p;p=g}for(;p<=m;p++)b[a].push(p)}else p=parseInt(c[f],10),isNaN(p)||b[a].push(p)}}}return b}function t(a){return"string"==typeof a&&""!=a.replace(/\s/g,"")&&a.match(/<Stroke>/i)&&a.match(/<Outline>/i)}function w(a){a=B(a);return"string"==typeof a&&t(a)}function B(a){return window.localStorage.getItem(""+a)}function n(a,h){"string"!=typeof h&&(h=x(h));u(function(){try{window.localStorage.setItem(""+a,h)}catch(b){console.log("save to localStorage failure: "+
b)}})}function u(a){function h(c){c=window.localStorage.getItem(c)||"";return Number((c.match(/timestamp="(\d+)"/)||[]).pop()||0)}var b=Object.keys(window.localStorage).filter(function(c){return 1==c.length&&w(c)}).sort(function(c,f){return h(c)-h(f)});if(b&&128<=b.length)try{window.localStorage.removeItem(b[0])}catch(c){}"function"==typeof a&&a()}function x(a){return window.ActiveXObject?a.xml:(new XMLSerializer).serializeToString(a)}function z(a){if(window.ActiveXObject){var h=new ActiveXObject("Microsoft.XMLDOM");
h.async="false";h.loadXML(a)}else h=(new DOMParser).parseFromString(a,"text/xml");return h}function D(a,h){for(var b=[],c=[],f=0,m=a.getElementsByTagName("Stroke"),p=0;p<m.length;p++)if(1==m[p].nodeType){b[f]=[];c[f]=[];for(var g=m[p].childNodes,l=0,k=0,q=0;q<g.length;q++)if(1==g[q].nodeType)if("Outline"==g[q].nodeName)for(var y=g[q].childNodes,v=0;v<y.length;v++)1==y[v].nodeType&&(b[f][l]=y[v],l++);else if("Track"==g[q].nodeName)for(c[f][k]=[],y=g[q].childNodes,v=0;v<y.length;v++)1==y[v].nodeType&&
(c[f][k]=y[v],k++);f++}f=a.getElementsByTagName("Word")[0].getAttribute("unicode");"string"==typeof f&&b&&c&&("\u61c2"==f&&32==b.length&&32==c.length?(b.splice(16),c.splice(16),console.log("\u522a\u9664-\u61c2-16\u756b\u5f8c\u591a\u51fa\u768416\u7b46\u8cc7\u6599")):"\u8d10"==f?(m=b[11].splice(0),b[11]=b[12].splice(0),b[12]=m,m=c[11].splice(0),c[11]=c[12].splice(0),c[12]=m,console.log("\u4ea4\u63db-\u8d10-\u768412, 13 \u756b")):"\u69bb"==f&&15==b.length&&15==c.length?(b.splice(14,1),c.splice(14,1),
console.log("\u522a\u9664-\u69bb-\u591a\u51fa\u7684\u7b2c15\u7b46\u8cc7\u6599")):"\u779e"==f&&17==b.length&&17==c.length?(b.splice(16,1),c.splice(16,1),console.log("\u522a\u9664-\u779e-\u591a\u51fa\u7684\u7b2c17\u7b46\u8cc7\u6599")):"\u6170"==f&&18==b.length&&18==c.length?(b.splice(15),c.splice(15),console.log("\u522a\u9664-\u6170-15\u756b\u5f8c\u591a\u51fa\u76843\u7b46\u8cc7\u6599")):"\u5bd3"==f&&13==b.length&&13==c.length?(b.splice(6,1),c.splice(6,1),console.log("\u522a\u9664-\u5bd3-\u591a\u51fa\u7684\u7b2c7\u7b46\u8cc7\u6599")):
"\u88fd"==f&&15==b.length&&15==c.length?(b.splice(14,1),c.splice(14,1),console.log("\u522a\u9664-\u88fd-\u591a\u51fa\u7684\u7b2c15\u7b46\u8cc7\u6599")):"\u53eb"==f&&c[4]&&3==c[4].length?(m=c[4][1],c[4][1]=c[4][2],c[4][2]=m,console.log("\u4ea4\u63db-\u53eb-5\u756b\u7684\u6b65\u9a5f2, 3")):"\u554a"==f&&c[8]&&5==c[8].length&&(m=c[8][3],c[8][3]=c[8][4],c[8][4]=m,console.log("\u4ea4\u63db-\u554a-9\u756b\u7684\u6b65\u9a5f4, 5")));m={};m.$=f||h;m.M=b;m.h=c;m.Z=a.getElementsByTagName("Word")[0].getAttribute("sound")||
"";m.s=a.getElementsByTagName("Word")[0].getAttribute("parts")||"";return m}function L(a,h,b,c){var f="";if("undefined"==typeof a||null==a)return f;"number"!=typeof b&&(b=0);"number"!=typeof c&&(c=0);"number"==typeof h&&(h=[h]);for(var m=0;m<h.length;m++){for(var p=a[h[m]-1],g=0;g<p.length;g++){var l=p[g];switch(l.nodeName){case "MoveTo":var k=Number(l.getAttribute("x"))+b;var q=Number(l.getAttribute("y"))+c;f+=" M"+k+" "+q;break;case "LineTo":k=Number(l.getAttribute("x"))+b;q=Number(l.getAttribute("y"))+
c;f+=" L"+k+" "+q;break;case "QuadTo":k=Number(l.getAttribute("x1"))+b;q=Number(l.getAttribute("y1"))+c;var y=Number(l.getAttribute("x2"))+b;var v=Number(l.getAttribute("y2"))+c;f+=" Q"+k+" "+q+" "+y+" "+v;break;case "CubicTo":k=Number(l.getAttribute("x1"))+b;q=Number(l.getAttribute("y1"))+c;y=Number(l.getAttribute("x2"))+b;v=Number(l.getAttribute("y2"))+c;var A=Number(l.getAttribute("x3"))+b;l=Number(l.getAttribute("y3"))+c;f+=" C"+k+" "+q+" "+y+" "+v+" "+A+" "+l}}f+=" Z"}return f=f.trim()}function E(a,
h,b,c,f,m,p){var g="";if("number"!=typeof b||2<b)b=0;c="boolean"==typeof c&&c;f="boolean"==typeof f&&f;m="boolean"==typeof m&&m;p="boolean"==typeof p&&p;if(h||w(a)){h||(h=B(a),h=D(z(h),a));g=h.h.length;if("string"!=typeof h.s||""==h.s.trim())h.s="1-"+g;b=r(h.s,b);var l=0;if("undefined"!=typeof b&&null!=b&&0<b.length){var k=0;do{var q=0;do 0<b[k][q]&&b[k][q]<=g?(l++,q++):b[k].splice(q,1);while(0<b[k].length&&q<b[k].length);0<b[k].length?k++:b.splice(k,1)}while(0<b.length&&k<b.length)}if(1>l||l>g)b=
r("1-"+g);else if(l<g){l={};for(k=0;k<g;k++)l[k+1]=k+1;for(k in b)for(q in b[k])delete l[b[k][q]];0<Object.values(l).length&&b.push(Object.values(l))}g='<svg id="'+a+'" viewBox="0 0 2048 2048" xmlns="http://www.w3.org/2000/svg">\n';for(k=0;k<b.length;k++){g+='<g fill="'+W[k%W.length]+'" fill-opacity="1" stroke="#000000" stroke-width="0" stroke-linejoin="round" stroke-opacity="0">';if(c)l=L(h.M,b[k],0,0),g+='<path d="'+l+'" />';else for(g+="\n",q=0;q<b[k].length;q++){var y=b[k][q];l=L(h.M,y,0,0);g+=
'<path id="t'+y+'" d="'+l+'" />\n'}g+="</g>\n"}if(f){c=g;k=h;q=f=void 0;"number"!=typeof f&&(f=0);"number"!=typeof q&&(q=0);b="";if(k||w(a))for(k||(k=B(a),k=D(z(k),a)),g=k.h.length,l=0;l<g;l++){var v=k.h[l][0];y=Number(v.getAttribute("x"))+f;v=Number(v.getAttribute("y"))+q;b+='<text class="number" style="font-size:100px;font-style:bold;" x="'+y+'" y="'+v+'">'+(l+1)+"</text>\n"}g=c+b}if(m){m=g;b=h;f=c=void 0;"number"!=typeof c&&(c=0);"number"!=typeof f&&(f=0);q="";if(b||w(a)){if(!b){var A=B(a);b=D(z(A),
a)}A=b.h.length;for(a=0;a<A;a++)for(k=0;k<b.h[a].length;k++)l=b.h[a][k],"MoveTo"==l.nodeName&&(g=Number(l.getAttribute("x"))+c,l=Number(l.getAttribute("y"))+f,q+=(0==k?" M":" L")+g+" "+l)}q=q.trim();if(""!=q)var C='<circle cx="0" cy="0" r="120" style="fill:#ff0000a0;"><animateMotion begin="0s" dur="'+((15>A?10>A?"5s":"8s":"10s")+'" path="'+q+'"  repeatCount="indefinite" /></circle>');g=m+("\n"+C+"\n")}if(p){p=g;var G;C=[];if(m=h.h)for(c=0;c<m.length;c++){A=[];for(f=0;f<m[c].length;f++)a=[],a.push(parseFloat(m[c][f].getAttribute("x"))),
a.push(parseFloat(m[c][f].getAttribute("y"))),(G=m[c][f].getAttribute("size"))&&a.push(parseFloat(G)),A.push(a.join(","));C.push(A.join(" "))}G=JSON.stringify({unicode:h.$,tracks:C,parts:h.s,sound:h.Z});g=p+("<desc>"+G+"</desc>\n")}g+="</svg>\n"}return g}function F(a,h){var b,c,f,m;return V(function(p){b=null;c=0;"string"!=typeof a||""==a.replace(/\s/g,"")||"string"!=typeof h||""==h.replace(/\s/g,"")?c=31:(a=a.trim(),h=h.trim(),1<a.length&&(a=a.substring(0,1)),f=a.codePointAt(0).toString(16).toUpperCase(),
m="SELECT * WHERE B='"+f+"' LIMIT 1",ha(h,null,m,!0,!0,function(g){var l="";if("undefined"!=typeof g&&null!=g&&"string"==typeof g.status&&"ok"==g.status){var k=g.table;if("undefined"!=typeof k.rows&&null!=k.rows&&0<k.rows.length)for(g=g.table.rows,k=0;k<g.length;k++)null!=g[k].c[2]&&"string"==typeof g[k].c[2].v&&(l+=g[k].c[2].v,null!=g[k].c[3]&&"string"==typeof g[k].c[3].v&&(l+=g[k].c[3].v))}b=l}));return p.return(new Promise(function(g){var l=setInterval(function(){if("string"==typeof b||30<c)return clearInterval(l),
30<c&&(b=""),g(b);c++},100)}))})}function N(a,h){var b,c,f,m;return V(function(p){switch(p.b){case 1:return c=b="",f="https://g0v.github.io/zh-stroke-data/utf8/",R(p,F(a,X),2);case 2:b=p.l;if(t(b)){p.b=3;break}console.log("fetch data from GitHub ...");c=f+a.codePointAt(0).toString(16)+".xml";p.C=4;return R(p,fetch(c),6);case 6:return m=p.l,R(p,m.text(),7);case 7:b=p.l;p.b=3;p.C=0;break;case 4:p.C=0,p.i=null,b="";case 3:return t(b)||(b=""),"function"==typeof h&&h(b),p.return(b)}})}function K(a,h,b){var c,
f,m,p,g,l,k,q,y,v,A;return V(function(C){if(1==C.b){"string"!=typeof a&&(a="\u96c4");m=f=c=null;k=l=p="";q=!1;y=!0;if("string"==typeof b){q=!0;p=b;C.b=2;return}if(w(a)){p=B(a);q=!0;(g=p.match(/parts="([^"]+)/))&&/[^0-9,;\-~]/.test(g[1])&&(console.log("debug: \u627e\u5230\u6709\u554f\u984c\u7684\u90e8\u4ef6 ",a,g[1]),q=!1);C.b=2;return}return R(C,N(a),4)}2!=C.b&&(p=C.l);if(t(p)){c=z(p);var G,Y,ia=new RegExp("^"+a+"\t[^\t]+\t[^\n]+","m");window.stroke_parts_data&&(G=ia.exec(window.stroke_parts_data))&&
(Y=G[0].split(/\t/));if((v=Y)&&3<v.length)l=v[2],k=v[3],l="/sound/"+(/\.m4a/.test(l)?l:l+".mp3");else{var Z;l=0<(Z="\u3000\u3105\u3106\u3107\u3108\u3109\u310a\u310b\u310c\u310d\u310e\u310f\u3110\u3111\u3112\u3113\u3114\u3115\u3116\u3117\u3118\u3119\u311a\u311b\u311c\u311d\u311e\u311f\u3120\u3121\u3122\u3123\u3124\u3125\u3126\u3127\u3128\u3129".indexOf(a))?"/bopomo_sound/f/f"+Z+".mp3":""}m=c.getElementsByTagName("Word")[0].getAttribute("parts");q&&"string"==typeof m&&""!=m.trim()&&(y=!1);c.getElementsByTagName("Word")[0].setAttribute("sound",
l);c.getElementsByTagName("Word")[0].setAttribute("parts",k);y&&(A=(new Date).getTime(),c.getElementsByTagName("Word")[0].setAttribute("timestamp",A),n(a,c));f=D(c,a)}if("function"==typeof h)h(f,q);else return C.return(f);C.b=0})}function ja(a,h){e(a,function(){"undefined"!=typeof window.stroke_parts_data&&null!=window.stroke_parts_data&&(window.stroke_parts_data=window.stroke_parts_data.trim().replace(/\r/g,"\n").replace(/\n+/g,"\n"));"function"==typeof h&&h()})}function ka(a,h,b,c){var f="";!/^https:\/\//.test(a)&&
20<a.length?f=a:/\/d\/([^\/]{20}[^\/]+)\//.test(a)&&(f=window.RegExp.lastParen);var m=a.match(/[#&\?]gid=(\d+)/);m=m&&1<m.length?m[1]:"-1";a="";""!=f&&(a="https://docs.google.com/spreadsheets/d/"+f+"/gviz/tq?tqx=out:json","string"==typeof h&&""!=h.replace(/\s/g,"")?a+="&sheet="+encodeURIComponent(h):"-1"!=m&&(a+="&gid="+m),"string"==typeof b&&""!=b.replace(/\s/g,"")&&(b=encodeURIComponent(b),a+="&tq="+b),"number"==typeof c&&(a+="&headers="+c));return a}function la(a,h){var b=document.createElement("script");
"undefined"==typeof window.google&&(window.google={});"undefined"==typeof window.google.visualization&&(window.google.visualization={});"undefined"==typeof window.google.visualization.Query&&(window.google.visualization.Query={});window.google.visualization.Query.setResponse=h;b.setAttribute("type","text/javascript");b.setAttribute("charset","utf-8");b.setAttribute("src",a);b.onload=b.onreadystatechange=function(){b.readyState&&"loaded"!==b.readyState&&"complete"!==b.readyState||(b.onload=b.onreadystatechange=
null,document.getElementsByTagName("head")[0].removeChild(b))};b.onerror=function(){b.onerror=null;document.getElementsByTagName("head")[0].removeChild(b);if("function"==typeof h)h();else{var c="\u7121\u6cd5\u8f09\u5165\u8a2d\u5b9a.",f=document.querySelector(".resultBlock");"undefined"!=typeof f&&null!=f&&(c+="\n\n\u8acb\u78ba\u8a8d\u4e00\u4e0b:\n\n* \u8a66\u7b97\u8868\u5171\u7528\u9023\u7d50\u7684\u7db2\u5740\u662f\u5426\u6b63\u78ba, \n\n* \u662f\u5426\u958b\u653e\u4efb\u4f55\u4eba\u90fd\u53ef\u4ee5\u6aa2\u8996.",
f.style.display="none");setTimeout(function(){console.log(c)},100)}};a=document.getElementsByTagName("head")[0];a.insertBefore(b,a.firstChild)}function ha(a,h,b,c,f,m){"string"!=typeof a?a="":/^https:\/\//i.test(a)||(a="https://docs.google.com/spreadsheets/d/"+a+"/edit?usp=sharing");"boolean"!=typeof f&&(f=!0);if(/^https:\/\//i.test(a)&&/spreadsheets/.test(a)){var p="";h=null;"boolean"==typeof c&&c&&(h=0);a=ka(a,null,b,h);la(a,function(g){if("boolean"==typeof c&&c)"function"==typeof m?m(g):console.log(g);
else{if("undefined"!=typeof g&&null!=g&&"string"==typeof g.status&&"ok"==g.status&&"undefined"!=typeof g.table.rows&&null!=g.table.rows&&0<g.table.rows.length){p="";var l=-1,k=0,q=g.table.cols;if(0==g.table.parsedNumHeaders)for(var y=g.table.rows[0].c,v=0;v<y.length;v++){var A=g.table.rows[0].c[v].v;if("string"==typeof A&&"\u6210\u8a9e"==A.trim()){l=v;k=1;break}}else for(v=0;v<q.length;v++)if("\u6210\u8a9e"==q[v].label.trim()){l=v;break}0>l&&(l=0,0<g.table.parsedNumHeaders&&(A=g.table.cols[l].label,
"string"==typeof A&&""!=A.replace(/\s/g,"")&&(p+=A.trim())));console.log("get @"+l,"from "+k,q);if(0<=l)for(v=k;v<g.table.rows.length;v++)k=g.table.rows[v].c[l],"undefined"!=typeof k&&null!=k?"string"==typeof k.v&&""!=k.v.replace(/\s/g,"")?p+=k.v.trim()+"\n":f||(p+="\n"):f||(p+="\n")}""!=p?"function"==typeof m?m(p):console.log(p):("undefined"!=typeof g&&null!=g&&"undefined"!=typeof g.table&&console.log(g.table),console.log("\u7121\u6cd5\u8f09\u5165\u8cc7\u6599, \u8acb\u78ba\u8a8d\u8a66\u7b97\u8868\u4e2d\u7684\u5167\u5bb9\u5f8c\u518d\u8a66"))}})}else console.log("\u7121\u6cd5\u8f09\u5165\u8cc7\u6599, \u7db2\u5740\u4e0d\u662f\u8a66\u7b97\u8868\u7684\uff0c\u8acb\u78ba\u8a8d\u5f8c\u518d\u8a66")}
function ma(a,h,b,c,f){return V(function(m){return R(m,K(a,function(p,g){var l;return V(function(k){l=E(a,p,h,b,!1,!1,c);"function"==typeof f&&f(a,l,g);return k.return(l)})}),0)})}var X="",W="#ff6699 #56B4E9 #009E73 #F0E442 #ff9933 #FFBAA3 #9169EC #7B92BE".split(" ");"undefined"!=typeof window.stroke_parts_data&&null!=window.stroke_parts_data||ja("https://gsyan888.github.io/html5_fun/html5_stroke_parts/stroke_parts_data.js",function(){"string"==typeof window.stroke_parts_data&&""!=window.stroke_parts_data?
console.log("stroke_parts_data loaded ..."):console.log("stroke_parts_data load failure ...")});X=function(a){var h=Math.floor((new Date).getTime()/1E3%a.length);console.log("stroke data from: happy"+(2009+2*h)+" ...");return"https://docs.google.com/spreadsheets/d/"+a[h]+"/edit?usp=drive_link"}(["1cRQDIHe0isKNtKCvvXtP-I52d-1zCV1owDCo2cm164k","1m3BmNOTOIPP1j89TYX8h7Gy4p4bfmCG-YSPMGGefgks","1nY3sRsX21JiHnyg4UP0VhSxw2yN-m2KkKHAgoGJvvFk"]);d.xmlToSVG=function(a,h,b){var c,f,m;return V(function(p){return 1==
p.b?(c=null,f=0,m=5,R(p,K(a,function(g){var l;return V(function(k){l=E(a,g,0,!1,!1,!1,!0);"function"==typeof b&&b(l);c=l;return k.return(l)})},h),2)):p.return(new Promise(function(g){var l=setInterval(function(){if("string"==typeof c||f>m)return clearInterval(l),f>m&&(c=""),g(c);f++},100)}))})};d.toSVG=function(a,h,b,c,f,m,p,g){var l={},k=[];"number"!=typeof h&&(h=0);b="boolean"==typeof b&&b;c="boolean"==typeof c&&c;f="boolean"==typeof f&&f;"string"==typeof a&&(a=Array.from(a.trim()));if(0<a.length){var q=
function(y){if(0<y.length){var v=y.splice(0,1)[0];"function"==typeof m&&m(v);"undefined"==typeof l[v]?(console.log("fetch "+v+"..."),ma(v,h,b,c,function(A,C,G){""!=C&&(f?(C=new File([C],"\u7b46\u9806-"+A+".svg",{type:"image/svg+xml"}),k.push(C)):k.push(C),l[A]=k.length-1);0<y.length?setTimeout(function(){q(y)},G?250:Math.floor(1E3*(g||1))):q(y)})):(k.push(k[l[v]]),q(y))}else"function"==typeof m&&m(100,!0),"function"==typeof p&&p(k)};q(a)}};d.getTrack=function(a,h){var b=[],c=[];if((a=a.querySelector("desc"))&&
/tracks/.test(a.innerHTML)&&""!=a.innerHTML.replace(/\s/g,""))try{c=JSON.parse(a.innerHTML).tracks}catch(k){c=[]}for(var f=0;f<c.length;f++){var m=[];a=c[f].trim().split(/\s+/);for(var p=0;p<a.length;p++){var g=a[p].trim().split(",");if(1<g.length){var l={x:parseFloat(g[0]),y:parseFloat(g[1])};isNaN(g[2])||(l.size=parseFloat(g[2]));m.push(l)}}0<m.length&&b.push(m)}"function"==typeof h&&h(b);return b};d.getSoundUrl=function(a){return/bopomo/.test(a)?"https://gsyan888.github.io/html5_fun/html5_stroke_parts"+
a:"https://stroke-order.learningweb.moe.edu.tw"+a}})("undefined"!==typeof exports?exports:window.moeStroke=window.moeStroke||{});})();
